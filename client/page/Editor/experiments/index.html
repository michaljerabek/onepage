<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0, height=device-height">

    <link rel="stylesheet" href="../editor.css">

    <style>

        html, body {
            will-change: scroll-position;
            position: relative;
            min-height: 100%;
        }

        body {
            padding: 20px;
        }

        * {
            -webkit-box-sizing: border-box;
            -moz-box-sizing: border-box;
            box-sizing: border-box;
            margin: 0;
        }

        body > .edit {
            padding-bottom: 80px;
        }

    </style>

</head>

<body>


    <div class="edit">Lorem ipsum dolor sit amet.</div>
    <div class="edit">Lorem ipsum dolor sit amet. ipsum dolor sit amet.</div>
    <div class="edit">Lorem ipsum dolor sit amet.</div>
    <div class="edit">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nesciunt dignissimos id veniam at culpa minima modi neque consequatur expedita, delectus? ipsum dolor sit amet.</div>
    <div class="edit">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Deserunt incidunt autem corporis et consectetur qui delectus cupiditate fugit tenetur iusto tempore voluptas sapiente distinctio quas vitae dolorum, sit, eum voluptatem quasi unde minima id quos. Fugiat quaerat nihil unde amet vitae, atque ipsa reiciendis mollitia voluptatum dolorum, facere assumenda eaque porro. Omnis quia officia odio quis fugit nemo qui illo accusamus ipsam, sint ab asperiores doloremque eaque architecto, voluptatibus voluptate temporibus fuga, ratione quasi necessitatibus libero quos ea suscipit. Ex nemo numquam nam quos, culpa qui recusandae quaerat quo? Eos perspiciatis harum aspernatur nam doloremque accusamus beatae, odit labore tempore pariatur earum, sapiente soluta quia vitae odio fuga qui! Ad voluptatibus eius sunt voluptas, deleniti laborum dolores facere quia! Maiores vitae perferendis iste, temporibus pariatur. Dignissimos nihil odio eos minima tenetur, explicabo iure eum possimus hic vitae cumque consequatur quas porro iste sunt distinctio sequi modi culpa ullam libero ab qui laboriosam. Nihil reiciendis ullam commodi, amet in qui numquam dolor voluptatibus officia at aliquam error nisi non nobis saepe quidem, et magnam dolorum nam? Quisquam ut pariatur accusamus qui, officia cum, soluta quaerat dolore aliquam quae vel rerum itaque suscipit consectetur distinctio nesciunt ad possimus. Dolore ex eveniet facilis unde assumenda iste reiciendis consequuntur illo iusto natus neque dolor, laboriosam accusantium, dolorum adipisci modi labore tempore explicabo voluptas numquam molestiae doloribus distinctio ipsum. Accusamus expedita officiis aliquid, explicabo suscipit iure ad mollitia doloremque ullam repudiandae, inventore fugit voluptatum. Ex explicabo illum officiis perferendis magnam rem officia sed culpa esse harum blanditiis, ipsam ipsum quaerat cupiditate sit modi enim non voluptas maiores sequi laboriosam, quia animi ad. Porro accusamus, sequi rerum tenetur possimus natus libero. Aliquid nisi placeat maxime explicabo animi laudantium accusantium aspernatur dicta dolore delectus esse necessitatibus consectetur doloremque commodi dolorum vero suscipit velit, veniam nulla! Distinctio, maxime. ipsum dolor sit amet.</div>

    <script src="jquery-1.12.1.min.js"></script>
    <script src="../../../../public/js/modernizr-custom.js"></script>
    <script src="http://mjerabek.wz.cz/onScreenLog.js"></script>

    <script src="editor.js"></script>


    <script src="../FixedElement.js"></script>
    <script src="../MediumEditorTouchSupport.js"></script>
    <script src="../MediumEditorToolbar.js"></script>
    <script src="../MediumEditorAnchor.js"></script>
    <script src="../MediumEditorEnhence.js"></script>

    <script>/*jslint indent: 4, white: true, nomen: true, regexp: true, unparam: true, node: true, browser: true, devel: true, nomen: true, plusplus: true, regexp: true, sloppy: true, vars: true*/

        /*global $, MediumEditor, FixedElement*/

        window.MediumEditorTouchSupport(MediumEditor);
        window.MediumEditorToolbar(MediumEditor, FixedElement);
        window.MediumEditorAnchor(MediumEditor);
        window.MediumEditorEnhence(MediumEditor);

        var editor = new MediumEditor(".edit", {
            toolbar: {
                buttons: ["h2", "unorderedlist", "orderedlist", "bold", "italic", "anchor", "superscript", "subscript"]
//                                buttons: ["bold", "italic", "anchor"]
            }
        });

        editor.subscribe("editableInput", function (e, editable) {

            var $editable = $(editable);
            var $pInH2 = $editable.find("h2 p");
            var $h2InP = $editable.find("p h2");

            if ($pInH2.length) {

                $pInH2.unwrap();

                editor.selectElement($pInH2[0]);

                return;
            }

            if ($h2InP.length) {

                $h2InP.unwrap();

                editor.selectElement($h2InP[0]);

                return;
            }

        });

    </script>


</body>

</html>
